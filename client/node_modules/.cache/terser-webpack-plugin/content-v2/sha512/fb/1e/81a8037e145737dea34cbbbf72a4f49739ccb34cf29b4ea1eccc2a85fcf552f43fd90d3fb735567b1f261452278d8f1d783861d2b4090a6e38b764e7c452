{"map":{"version":3,"sources":["static/js/main.6938c125.chunk.js"],"names":["this","push","34","module","exports","__webpack_require__","39","75","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","react_router_dom","react_router","ContextUser","Object","token","name","expiry","components_App","_ref","logOutUser","user","history","a","createElement","Fragment","access_token","className","onClick","href","components_Header","to","components_Layout","children","components_About","regenerator","regenerator_default","asyncToGenerator","spotify_web_api","spotify_web_api_default","spotifyWebApi","components_Current","_useContext","_useState","setUser","_useState2","nowPlaying","setNowPlaying","_useState3","_useState4","error","setError","_getNowPlaying","mark","_callee","playback","wrap","_context","prev","next","getMyCurrentPlaybackState","catch","err","response","sent","item","image","album","images","url","abrupt","t0","console","log","stop","apply","arguments","setAccessToken","alt","src","TopList_spotifyWebApi","components_TopList","getRefreshToken","topTracks","setTopTracks","setPlaying","_useState5","_useState6","_useState7","_useState8","message","setMessage","setMessageHelper","msg","setTimeout","renderDynamicButtons","period","id","e","getMyTopTracks","limit","time_range","then","res","values","status","getTopList","buttons","document","getElementsByClassName","i","length","disabled","target","disableButton","replace","toUpperCase","map","index","key","concat","preview_url","audio","nextSibling","volume","paused","play","pause","playSong","type","defaultChecked","value","htmlFor","tabIndex","loop","artists","Sorter_spotifyWebApi","components_Sorter","getAllSongsAndSort","tracks","array","getUserPlaylists","items","forEach","getPlaylistTracks","query_string","query_string_default","axios","axios_default","now","Date","router","loggedOutState","refresh_token","tokens","parse","window","location","search","get","headers","Authorization","data","display_name","getTime","localStorage","getItem","userToken","JSON","json","stringify","setItem","props","removeItem","Provider","path","exact","component","Boolean","hostname","match","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(75)},39:function(e,t,a){},75:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a.n(n),r=a(31),s=a.n(r),o=(a(39),a(19)),l=a(3),u=a(8),m=a(1),i=Object(n.createContext)({token:\"\",name:\"\",expiry:\"\"}),p=function(e){var t=e.logOutUser,a=Object(n.useContext)(i).user,r=Object(m.f)();return c.a.createElement(\"div\",null,c.a.createElement(c.a.Fragment,null,a&&a.access_token?c.a.createElement(c.a.Fragment,null,c.a.createElement(\"h1\",{className:\"App__welcome\"},\"Welcome, \",a&&a.name,\".\"),c.a.createElement(\"button\",{className:\"App__logout\",onClick:function(){t(),r.push(\"/\")}},\"Log Out\")):c.a.createElement(\"section\",{className:\"App\"},c.a.createElement(\"h2\",{className:\"App__prompt\"},\"Welcome! Please log in to your Spotify Account.\"),c.a.createElement(\"a\",{className:\"App__anchor\",href:\"/login\"},c.a.createElement(\"button\",{className:\"Auth__button\"},\"Log In\")))))},_=function(){return c.a.createElement(\"nav\",{className:\"Header\"},c.a.createElement(\"ul\",{className:\"Header__nav\"},c.a.createElement(\"li\",null,c.a.createElement(u.b,{className:\"Header__item\",to:\"/\"},\"Home\")),c.a.createElement(\"li\",null,c.a.createElement(u.b,{className:\"Header__item\",to:\"/about\"},\"About\")),c.a.createElement(\"li\",null,c.a.createElement(u.b,{className:\"Header__item\",to:\"/toplist\"},\"Your Top Tracks\"))))},b=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement(_,null),c.a.createElement(\"div\",{className:\"Layout\"},c.a.createElement(\"div\",{className:\"Layout__container\"},t)))},f=function(){return c.a.createElement(\"p\",{className:\"About__text\"},\"Made by Filip Cordas with React, Express, and the Spotify API.\")},E=a(11),g=a.n(E),h=a(13),k=a(10),d=a.n(k),v=new d.a,O=function(){var e=Object(n.useContext)(i),t=e.user,a=(e.setUser,Object(n.useState)({})),r=Object(l.a)(a,2),s=r[0],o=r[1],u=Object(n.useState)(\"\"),m=Object(l.a)(u,2),p=m[0],_=m[1];function b(){return(b=Object(h.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.getMyCurrentPlaybackState(t.access_token).catch((function(e){return _(e.response)}));case 3:if(!(a=e.sent)){e.next=8;break}o({name:a.item.name,image:a.item.album.images[0].url}),e.next=9;break;case 8:return e.abrupt(\"return\",c.a.createElement(\"p\",null,\"Nothing found!\"));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return t.access_token&&v.setAccessToken(t.access_token),c.a.createElement(\"div\",{className:\"Current\"},p,c.a.createElement(\"h2\",{className:\"Current__name\"},\"Currently Playing: \",s.name),c.a.createElement(\"button\",{onClick:function(){return b.apply(this,arguments)}},\"Check Playback\"),c.a.createElement(\"img\",{className:\"Current__img\",alt:\"album-art\",src:s.image}))},y=new d.a,N=function(e){var t=e.getRefreshToken,a=Object(n.useContext)(i),r=a.user,s=(a.setUser,Object(n.useState)([])),o=Object(l.a)(s,2),u=o[0],m=o[1],p=Object(n.useState)([]),_=Object(l.a)(p,2),b=(_[0],_[1]),f=Object(n.useState)({}),E=Object(l.a)(f,2),g=E[0],h=(E[1],Object(n.useState)(\"\")),k=Object(l.a)(h,2),d=k[0],v=k[1],O=function(e){v({message:e}),setTimeout((function(){v(\"\")}),5e3)},N=function(e){return r.access_token&&c.a.createElement(\"button\",{id:e,className:\"TopList__buttons--button\",onClick:function(a){!function(e){y.setAccessToken(r.access_token),y.getMyTopTracks({limit:30,time_range:e}).then((function(e){console.log(e),m(Object.values(e)[0])})).catch((function(e){401===e.status&&(t(),O(\"Please try again.\"))}))}(e),function(e){for(var t=document.getElementsByClassName(\"TopList__buttons--button\"),a=0;a<t.length;a++)t[a].disabled=!1;e.target.disabled=!0}(a)}},e.replace(e[0],e[0].toUpperCase()).replace(\"_\",\" \"))};return c.a.createElement(\"div\",{className:\"TopList\"},c.a.createElement(\"h1\",{className:\"TopList__title\"},\"Your Top Tracks\"),!r.access_token&&c.a.createElement(\"p\",{className:\"message\"},\"Please log in to use this functionality.\"),c.a.createElement(\"section\",{className:\"TopList__buttons\"},N(\"long_term\"),N(\"medium_term\"),N(\"short_term\")),u.length>0&&c.a.createElement(\"button\",{onClick:function(){O(\"Playlist created!\")}},\"Create playlist\"),g&&c.a.createElement(\"p\",{className:\"message\"},g.error),d&&c.a.createElement(\"p\",{className:\"message\"},d.message),c.a.createElement(\"ul\",{className:\"TopList__list\"},u&&u.map((function(e,t){return c.a.createElement(\"article\",{key:\"\".concat(e.name,\" \").concat(e.id),className:\"TopList__song--wrapper\"},null!==e.preview_url&&c.a.createElement(\"div\",{className:\"TopList__playpause--wrapper\"},c.a.createElement(\"div\",{className:\"playpause \".concat(e.name)},c.a.createElement(\"input\",{onClick:function(e){return function(e){var t=e.target.nextSibling.nextSibling;t.volume=.1,t.paused?(t.play(),b(t)):(t.pause(),b([]))}(e)},type:\"checkbox\",defaultChecked:!0,value:\"None\",id:\"playpause \".concat(e.name),name:\"check\"}),c.a.createElement(\"label\",{htmlFor:\"playpause \".concat(e.name),tabIndex:\"1\"}),c.a.createElement(\"audio\",{loop:!0,volume:\"0.1\",className:\"audio_\".concat(e.name),key:\"playback \".concat(e.name),src:e.preview_url}))),c.a.createElement(\"div\",{className:\"TopList__content\"},c.a.createElement(\"li\",{key:e.name,className:\"TopList__song\"},\"\".concat(t+1,\" - \").concat(e.artists[0].name,\" - \").concat(e.name))),c.a.createElement(\"img\",{className:\"TopList__image\",alt:e.name,src:e.album.images[1].url}))}))))},j=new d.a,T=function(){var e=Object(n.useContext)(i),t=e.user,a=(e.setUser,Object(n.useState)(\"\")),r=Object(l.a)(a,2),s=r[0],o=(r[1],Object(n.useState)(\"\")),u=Object(l.a)(o,2),m=(u[0],u[1],Object(n.useState)(\"\")),p=Object(l.a)(m,2);p[0],p[1];t.access_token&&j.setAccessToken(t.access_token);var _=function(){var e=Object(h.a)(g.a.mark((function e(){var a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,j.getUserPlaylists(t.id,{limit:30});case 3:return n=e.sent,e.next=6,n.items.map((function(e){return e.id}));case 6:return c=e.sent,e.next=9,c.forEach((function(e){return j.getPlaylistTracks(e).then((function(e){return a.push(e)}))}));case 9:return e.next=11,console.log(a);case 11:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(\"div\",{className:\"Sorter\"},s,c.a.createElement(\"button\",{onClick:_},\"Get Playlists\"))},x=a(33),w=a.n(x),C=a(18),S=a.n(C),L=new Date,A=function(){var e={access_token:\"\",refresh_token:\"\",name:\"\",id:\"\",expiry:\"\"},t=Object(n.useState)(e),a=Object(l.a)(t,2),r=a[0],s=a[1],_=Object(n.useMemo)((function(){return{user:r,setUser:s}}),[r,s]);Object(n.useEffect)((function(){var e=w.a.parse(window.location.search);e.access_token&&!r.name.length&&S.a.get(\"https://api.spotify.com/v1/me\",{headers:{Authorization:\"Bearer \"+e.access_token}}).then((function(t){console.log(t),s({access_token:e.access_token,refresh_token:e.refresh_token,name:t.data.display_name,id:t.data.id,expiry:L.getTime()})}))}),[r.name.length]),Object(n.useEffect)((function(){var e=localStorage.getItem(\"userToken\"),t=JSON.parse(e);s(t)}),[]),Object(n.useEffect)((function(){var e=JSON.stringify(r);localStorage.setItem(\"userToken\",e)}),[r]);var E=function(t){localStorage.removeItem(\"userToken\"),s(e)},g=function(){S.a.get(\"/refresh_token?refresh_token=\".concat(r.refresh_token)).then((function(e){return s(Object(o.a)(Object(o.a)({},r),{},{access_token:e.data.access_token}))}))};return c.a.createElement(i.Provider,{value:_},c.a.createElement(u.a,null,c.a.createElement(b,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{path:\"/\",exact:!0},c.a.createElement(p,{logOutUser:E})),c.a.createElement(m.a,{path:\"/callback\",exact:!0,component:p}),c.a.createElement(m.a,{path:\"/about\",component:f}),c.a.createElement(m.a,{path:\"/current\",component:O}),c.a.createElement(m.a,{path:\"/toplist\"},c.a.createElement(N,{getRefreshToken:g,logOutUser:E})),c.a.createElement(m.a,{path:\"/sorter\"},c.a.createElement(T,{getRefreshToken:g,logOutUser:E})))))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(A,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);","extractedComments":[]}